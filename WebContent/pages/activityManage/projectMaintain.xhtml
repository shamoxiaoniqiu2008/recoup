<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:his="http://centling.his.net/histag" style="width:100%">

<!-- 回车键，往下！引入的js文件 -->
<f:view contentType="text/html" style="width:100%">
	<h:head>
		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/default.css" />
		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/skin.css" />
		<link type="text/css" rel="stylesheet"
			href="#{request.contextPath}/css/layout.css"></link>
		<link href="#{request.contextPath}/css/css.css" rel="stylesheet"
			type="text/css" />
		<link rel="stylesheet" href="#{request.contextPath}/css/style.css">
		</link>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		</meta>
		<script type="text/javascript"
			src="#{request.contextPath}/resources/js/ime.js?ver=#{projectConfig.ver}" />
		<script type="text/javascript"
			src="#{request.contextPath}/resources/js/calendar.js?ver=#{projectConfig.ver}" />
		<h:outputScript library="javax.faces" name="jsf.js" target="head" />
		<script type="text/javascript"
			src="#{request.contextPath}/resources/js/calendar.js?ver=#{projectConfig.ver}" />
		<script type="text/javascript"
			src="#{request.contextPath}/resources/js/common.js?ver=#{projectConfig.ver}" />
	</h:head>
	<style>
.B1 {
	color: red
}
</style>
	<p:growl id="msg" widgetVar="message"></p:growl>
	<h:form id="showForm">
		<h:panelGrid columns="10" cellpadding="30">
			<h:outputText value="活动项目:"></h:outputText>
			<p:inputText id="itemInputTxt"
				value="#{projectMaintainController.itemName}"></p:inputText>
			<h:inputHidden id="itemInputHidden"
				value="#{projectMaintainController.itemId}"></h:inputHidden>
			<his:IME for="showForm:itemInputTxt"
				fitcol="#{projectMaintainController.fitcolItem}" resultcol="1"
				lock="false" rawSQL="true"
				SQL="#{projectMaintainController.itemToSql}"
				SQLResult="#{projectMaintainController.displaycolItem}"
				multiresult="showForm:itemInputHidden;0,showForm:itemInputTxt;1" />
			<h:outputText value="活动类别:"></h:outputText>
			<p:selectOneMenu id="itemSuperClassMenu"
				value="#{projectMaintainController.superClassId}">
				<f:selectItem itemLabel="全部" itemValue="0"></f:selectItem>
				<f:selectItems
					value="#{projectMaintainController.pensionDicSuperClassList}"
					var="dicSuperClassList"
					itemLabel="#{dicSuperClassList.superClassName}"
					itemValue="#{dicSuperClassList.id}"></f:selectItems>
			</p:selectOneMenu>
			<h:outputText value="活动子类别:"></h:outputText>
			<p:selectOneMenu id="itemClassMenu"
				value="#{projectMaintainController.classId}">
				<f:selectItem itemLabel="全部" itemValue="0"></f:selectItem>
				<f:selectItems
					value="#{projectMaintainController.pensionDicClassList}"
					var="dicClassList" itemLabel="#{dicClassList.className}"
					itemValue="#{dicClassList.id}"></f:selectItems>
			</p:selectOneMenu>
			<p:commandButton styleClass="searchbtn" value=""
				action="#{projectMaintainController.searchByCondition}"
				update=":msg,:showForm:dataTable"></p:commandButton>
			<p:commandButton styleClass="blankbtn" value=""
				action="#{projectMaintainController.initParam}" update=":showForm"></p:commandButton>
		</h:panelGrid>
		<p:dataTable id="dataTable" widgetVar="itemList"
			emptyMessage="没有找到记录！"
			value="#{projectMaintainController.pensionActivityList}"
			var="activityList" rowKey="#{activityList.id}" rows="8"
			paginator="true" paginatorPosition="bottom"
			paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
			rowStyleClass="#{activityList.canceled == 1?'B1':null}"
			selectionMode="single" paginatorAlwaysVisible="false"
			selection="#{projectMaintainController.selectedPensionActivity}">
			<p:ajax event="rowSelect"
				listener="#{projectMaintainController.setSelectedFlag}"
				update=":showForm:modifyButton,:showForm:deleteButton,:showForm:copyButton,:showForm:cancelButton" />
			<p:ajax event="rowUnselect"
				listener="#{projectMaintainController.setUnselectedFlag}"
				update=":showForm:modifyButton,:showForm:deleteButton,:showForm:copyButton,:showForm:cancelButton" />
			<p:column headerText="活动项目" styleClass="width60">
				<h:outputText value="#{activityList.itemname}"></h:outputText>
			</p:column>
			<p:column headerText="举办时间" styleClass="width60">
				<h:outputText value="#{activityList.starttime}">
					<f:convertDateTime pattern="yyyy-MM-dd HH:mm"></f:convertDateTime>
				</h:outputText>
			</p:column>
			<p:column headerText="举办地点" styleClass="width60">
				<h:outputText value="#{activityList.itemplace}"></h:outputText>
			</p:column>
			<p:column headerText="活动类别" styleClass="width60">
				<h:outputText value="#{activityList.superClassName}"></h:outputText>
			</p:column>
			<p:column headerText="活动子类别" styleClass="width70">
				<h:outputText value="#{activityList.className}"></h:outputText>
			</p:column>
			<p:column headerText="最小参加人数" styleClass="width90">
				<h:outputText value="#{activityList.minnumber}"></h:outputText>
			</p:column>
			<p:column headerText="最大参加人数" styleClass="width90">
				<h:outputText value="#{activityList.maxnumber}"></h:outputText>
			</p:column>
			<p:column headerText="活动图片" styleClass="width60">
				<h:graphicImage value="#{activityList.imageurl}" width="50"
					height="30"></h:graphicImage>
			</p:column>
			<p:column headerText="活动准备" styleClass="width60">
				<h:outputText value="#{activityList.itemprepare}"></h:outputText>
			</p:column>
			<p:column headerText="已取消" styleClass="width50">
				<h:outputText value="是" rendered="#{activityList.canceled == 1}"></h:outputText>
				<h:outputText value="否" rendered="#{activityList.canceled == 2}"></h:outputText>
			</p:column>
			<p:column headerText="详情" styleClass="width50">
				<p:commandLink update=":viewForm,:msg"
					oncomplete="viewDialog.show()" title="查看"
					action="#{projectMaintainController.view(activityList.id)}">
					<p:graphicImage value="/images/search.png" style="border:0px;" />
				</p:commandLink>
			</p:column>
		</p:dataTable>
		<p:watermark value="调用输入法" for="itemInputTxt"></p:watermark>
		<div align="center">
			<p:commandButton id="addButton" styleClass="addbtn" value=""
				action="#{projectMaintainController.initActivity}"
				onclick="addDialog.show()" update=":addForm"></p:commandButton>
			<p:commandButton id="modifyButton" styleClass="modifybtn" value=""
				onclick="editDialog.show()"
				action="#{projectMaintainController.editButtonPara}"
				disabled="#{projectMaintainController.modifyEnableFlag}"
				update=":editForm"></p:commandButton>
			<p:commandButton id="copyButton" styleClass="commonbtn" value="复制"
				action="#{projectMaintainController.copyProject}"
				oncomplete="addDialog.show()" update=":addForm"
				disabled="#{projectMaintainController.modifyEnableFlag}"></p:commandButton>
			<p:commandButton id="cancelButton" styleClass="commonbtn" value="取消"
				action="#{projectMaintainController.checkCancelProject}"
				oncomplete="checkCancelProject(xhr, status, args)"
				disabled="#{projectMaintainController.deleteEnableFlag}"
				update=":msg,:cancelForm"></p:commandButton>
			<p:commandButton id="deleteButton" styleClass="deletebtn" value=""
				action="#{projectMaintainController.checkDeleteProject}"
				oncomplete="checkDeleteProject(xhr, status, args)"
				disabled="#{projectMaintainController.deleteEnableFlag}"
				update=":msg,:delForm"></p:commandButton>
		</div>
	</h:form>

	<p:dialog id="addDialog" widgetVar="addDialog" appendTo="@(body)"
		modal="true" position="center" header="新增康娱项目">
		<h:form id="addForm" enctype="multipart/form-data">
			<p:overlayPanel id="operatePanel" for="itemGraphAdd"
				showEffect="clip" hideEffect="clip" showEvent="mouseover"
				dismissable="true" showCloseIcon="true">
				<p:fileUpload required="true" requiredMessage="请上传图片！"
					mode="advanced" dragDropSupport="false" multiple="true"
					value="#{projectMaintainController.uploadedFile}"
					fileUploadListener="#{projectMaintainController.handleFileUpload}"
					update=":msg,:addForm:itemGraphAdd" sizeLimit="1000000"
					fileLimit="100" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
					uploadLabel="上传" cancelLabel="取消" label="浏览"
					fileLimitMessage="最大上传文件数量为1个！"
					invalidFileMessage="上传文件必须为gif,jpe,jpg,png格式的图片！"
					invalidSizeMessage="图片大小最大为1M！">
				</p:fileUpload>
			</p:overlayPanel>
			<table class="hengbiaoge">
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="itemname">活动项目:</label></td>
					<td class="hengbiaogedata"><p:inputText id="itemname"
							value="#{projectMaintainController.pensionActivity.itemname}">
							<p:ajax event="blur"
								listener="#{projectMaintainController.setInputCodeAdd}"
								update=":addForm:addInputCodeTxt"></p:ajax>
						</p:inputText></td>
					<td class="hengbiaogedata" colspan="2" rowspan="8"><h:graphicImage
							id="itemGraphAdd" width="300" height="230"
							value="#{projectMaintainController.pensionActivity.imageurl}"></h:graphicImage></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="addInputCodeTxt">输入码:</label></td>
					<td class="hengbiaogedata"><p:inputText
							value="#{projectMaintainController.pensionActivity.inputcode}"
							id="addInputCodeTxt"></p:inputText></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="superClassId">活动类别:</label></td>
					<td class="hengbiaogedata"><h:selectOneMenu
							style="width:150px" id="superClassId"
							class="ui-inputfield ui-widget ui-state-default ui-corner-all hasDatepicker ui-state-hover"
							value="#{projectMaintainController.pensionActivity.superClassId}">
							<f:selectItem itemLabel="  "></f:selectItem>
							<f:selectItems
								value="#{projectMaintainController.pensionDicSuperClassList}"
								var="dicSuperClassList"
								itemLabel="#{dicSuperClassList.superClassName}"
								itemValue="#{dicSuperClassList.id}"></f:selectItems>
						</h:selectOneMenu></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="classId">活动子类别:</label></td>
					<td class="hengbiaogedata"><h:selectOneMenu
							style="width:150px" id="classId"
							class="ui-inputfield ui-widget ui-state-default ui-corner-all hasDatepicker ui-state-hover"
							value="#{projectMaintainController.pensionActivity.classId}">
							<f:selectItem itemLabel="  "></f:selectItem>
							<f:selectItems
								value="#{projectMaintainController.pensionDicClassList}"
								var="dicClassList" itemLabel="#{dicClassList.className}"
								itemValue="#{dicClassList.id}"></f:selectItems>
						</h:selectOneMenu></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="starttime_input">举办时间:</label></td>
					<td class="hengbiaogedata"><p:calendar id="starttime"
							showButtonPanel="true"
							value="#{projectMaintainController.pensionActivity.starttime}"
							pattern="yyyy-MM-dd HH:mm"></p:calendar></td>
				</tr>

				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="itemplace">举办地点:</label></td>
					<td class="hengbiaogedata"><p:inputText id="itemplace"
							value="#{projectMaintainController.pensionActivity.itemplace}"></p:inputText></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="minnumber">最小参加人数:</label></td>
					<td class="hengbiaogedata"><p:inputText id="minnumber"
							value="#{projectMaintainController.pensionActivity.minnumber}"></p:inputText></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="maxnumber">最大参加人数:</label></td>
					<td class="hengbiaogedata"><p:inputText id="maxnumber"
							value="#{projectMaintainController.pensionActivity.maxnumber}"></p:inputText></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="itemprepare">活动准备:</label></td>
					<td class="hengbiaogedata" colspan="3"><p:inputText
							id="itemprepare" size="70"
							value="#{projectMaintainController.pensionActivity.itemprepare}"></p:inputText>
					</td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="活动说明:"></h:outputText>
					</td>
					<td class="hengbiaogedata" colspan="3"><p:inputText size="70"
							value="#{projectMaintainController.pensionActivity.itemdesc}"></p:inputText>
					</td>
				</tr>

				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="备注:"></h:outputText>
					</td>
					<td class="hengbiaogedata" colspan="3"><p:inputText size="70"
							value="#{projectMaintainController.pensionActivity.notes}"></p:inputText>
					</td>
				</tr>
			</table>
			<div align="center">
				<p:commandButton styleClass="submitbtn" value=""
					onstart="return checkNulls('addForm','redfont',true);"
					action="#{projectMaintainController.addActivity}"
					oncomplete="saveActivity(xhr, status, args)"
					update=":msg,:showForm,:addForm"></p:commandButton>
				<p:commandButton styleClass="cancelbtn" value=""
					onclick="addDialog.hide()"></p:commandButton>
			</div>
		</h:form>
	</p:dialog>

	<p:dialog id="viewDialog" widgetVar="viewDialog" appendTo="@(body)"
		modal="true" position="center" header="查看康娱项目">
		<h:form id="viewForm" enctype="multipart/form-data">
			<table class="hengbiaoge">
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="活动项目:"
							styleClass="redfont"></h:outputText></td>
					<td class="hengbiaogedata"><h:outputText
							value="#{projectMaintainController.pensionActivity.itemname}"></h:outputText>
					</td>
					<td class="hengbiaogedata" colspan="2" rowspan="8"><h:graphicImage
							id="itemGraphAdd" width="300" height="230"
							value="#{projectMaintainController.pensionActivity.imageurl}"></h:graphicImage></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="输入码:"
							styleClass="redfont"></h:outputText></td>
					<td class="hengbiaogedata"><h:outputText
							value="#{projectMaintainController.pensionActivity.inputcode}"></h:outputText>
					</td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="活动类别:"
							styleClass="redfont"></h:outputText></td>
					<td class="hengbiaogedata"><h:outputText
							value="#{projectMaintainController.pensionActivity.superClassName}"></h:outputText>
					</td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="活动子类别:"
							styleClass="redfont"></h:outputText></td>
					<td class="hengbiaogedata"><h:outputText
							value="#{projectMaintainController.pensionActivity.className}"></h:outputText>
					</td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="举办时间:"
							styleClass="redfont"></h:outputText></td>
					<td class="hengbiaogedata"><h:outputText
							value="#{projectMaintainController.pensionActivity.starttime}">
							<f:convertDateTime pattern="yyyy-MM-dd HH:mm"></f:convertDateTime>
						</h:outputText></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="举办地点:"
							styleClass="redfont"></h:outputText></td>
					<td class="hengbiaogedata"><h:outputText
							value="#{projectMaintainController.pensionActivity.itemplace}"></h:outputText>
					</td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="最小参加人数:"
							styleClass="redfont"></h:outputText></td>
					<td class="hengbiaogedata"><h:outputText
							value="#{projectMaintainController.pensionActivity.minnumber}"></h:outputText>
					</td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="最大参加人数:"
							styleClass="redfont"></h:outputText></td>
					<td class="hengbiaogedata"><h:outputText
							value="#{projectMaintainController.pensionActivity.maxnumber}"></h:outputText>
					</td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="活动准备:"
							styleClass="redfont"></h:outputText></td>
					<td class="hengbiaogedata" colspan="3"><h:outputText
							value="#{projectMaintainController.pensionActivity.itemprepare}"></h:outputText>
					</td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="活动说明:"></h:outputText>
					</td>
					<td class="hengbiaogedata" colspan="3"><h:outputText
							value="#{projectMaintainController.pensionActivity.itemdesc}"></h:outputText>
					</td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="备注:"></h:outputText>
					</td>
					<td class="hengbiaogedata" colspan="3"><h:outputText
							value="#{projectMaintainController.pensionActivity.notes}"></h:outputText>
					</td>
				</tr>
			</table>
			<div align="center">
				<p:commandButton styleClass="closebtn" value=""
					onclick="viewDialog.hide()"></p:commandButton>
			</div>
		</h:form>
	</p:dialog>

	<p:dialog id="editDialog" widgetVar="editDialog" appendTo="@(body)"
		modal="true" position="center" header="修改康娱活动">
		<h:form id="editForm" enctype="multipart/form-data">
			<p:overlayPanel id="operatePanel" for="itemGraphEdit"
				showEffect="clip" hideEffect="clip" showEvent="mouseover"
				dismissable="true" showCloseIcon="true">
				<p:fileUpload mode="advanced" dragDropSupport="false"
					multiple="true" value="#{projectMaintainController.uploadedFile}"
					fileUploadListener="#{projectMaintainController.handleFileUpload}"
					update=":msg,:editForm:itemGraphEdit" sizeLimit="1000000"
					fileLimit="100" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
					uploadLabel="上传" cancelLabel="取消" label="浏览"
					fileLimitMessage="最大上传文件数量为1个！"
					invalidFileMessage="上传文件必须为gif,jpe,jpg,png格式的图片！"
					invalidSizeMessage="图片大小最大为1M！">
				</p:fileUpload>
			</p:overlayPanel>
			<table class="hengbiaoge">
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="itemname">活动项目:</label></td>
					<td class="hengbiaogedata"><p:inputText id="itemname"
							value="#{projectMaintainController.selectedPensionActivity.itemname}">
							<p:ajax event="blur"
								listener="#{projectMaintainController.setInputCodeEdit}"
								update=":editForm:editInputCodeTxt"></p:ajax>
						</p:inputText></td>
					<td class="hengbiaogedata" colspan="2" rowspan="8"><h:graphicImage
							id="itemGraphEdit" width="300" height="230"
							value="#{projectMaintainController.selectedPensionActivity.imageurl}"></h:graphicImage></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="editInputCodeTxt">输入码:</label></td>
					<td class="hengbiaogedata"><p:inputText
							value="#{projectMaintainController.selectedPensionActivity.inputcode}"
							id="editInputCodeTxt"></p:inputText></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="superClassId">活动类别:</label></td>
					<td class="hengbiaogedata"><h:selectOneMenu
							style="width:150px" id="superClassId"
							class="ui-inputfield ui-widget ui-state-default ui-corner-all hasDatepicker ui-state-hover"
							value="#{projectMaintainController.selectedPensionActivity.superClassId}">
							<f:selectItem itemLabel="  "></f:selectItem>
							<f:selectItems
								value="#{projectMaintainController.pensionDicSuperClassList}"
								var="dicSuperClassList"
								itemLabel="#{dicSuperClassList.superClassName}"
								itemValue="#{dicSuperClassList.id}"></f:selectItems>
						</h:selectOneMenu></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="classId">活动子类别:</label></td>
					<td class="hengbiaogedata"><h:selectOneMenu
							style="width:150px" id="classId"
							class="ui-inputfield ui-widget ui-state-default ui-corner-all hasDatepicker ui-state-hover"
							value="#{projectMaintainController.selectedPensionActivity.classId}">
							<f:selectItem itemLabel="  "></f:selectItem>
							<f:selectItems
								value="#{projectMaintainController.pensionDicClassList}"
								var="dicClassList" itemLabel="#{dicClassList.className}"
								itemValue="#{dicClassList.id}"></f:selectItems>
						</h:selectOneMenu></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="starttime_input">举办时间:</label></td>
					<td class="hengbiaogedata"><p:calendar id="starttime"
							showButtonPanel="true"
							value="#{projectMaintainController.selectedPensionActivity.starttime}"
							pattern="yyyy-MM-dd HH:mm"></p:calendar></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="itemplace">举办地点:</label></td>
					<td class="hengbiaogedata"><p:inputText id="itemplace"
							value="#{projectMaintainController.selectedPensionActivity.itemplace}"></p:inputText></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="minnumber">最小参加人数:</label></td>
					<td class="hengbiaogedata"><p:inputText id="minnumber"
							value="#{projectMaintainController.selectedPensionActivity.minnumber}"></p:inputText></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="maxnumber">最大参加人数:</label></td>
					<td class="hengbiaogedata"><p:inputText id="maxnumber"
							value="#{projectMaintainController.selectedPensionActivity.maxnumber}"></p:inputText></td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><label class="redfont"
						for="itemprepare">活动准备:</label></td>
					<td class="hengbiaogedata" colspan="3"><p:inputText
							id="itemprepare" size="70"
							value="#{projectMaintainController.selectedPensionActivity.itemprepare}"></p:inputText>
					</td>
				</tr>
				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="活动说明:"></h:outputText>
					</td>
					<td class="hengbiaogedata" colspan="3"><p:inputText size="70"
							value="#{projectMaintainController.selectedPensionActivity.itemdesc}"></p:inputText>
					</td>
				</tr>

				<tr>
					<td class="hengbiaogeHeader1"><h:outputText value="备注:"></h:outputText>
					</td>
					<td class="hengbiaogedata" colspan="3"><p:inputText size="70"
							value="#{projectMaintainController.selectedPensionActivity.notes}"></p:inputText>
					</td>
				</tr>
			</table>
			<div align="center">
				<p:commandButton styleClass="savebtn" value=""
					onstart="return checkNulls('editForm','redfont',true);"
					action="#{projectMaintainController.saveActivity}"
					update=":msg,:showForm" oncomplete="editDialog.hide()"></p:commandButton>
				<p:commandButton styleClass="cancelbtn" value=""
					onclick="editDialog.hide()"></p:commandButton>
			</div>
		</h:form>
	</p:dialog>

	<p:dialog id="delDialog" widgetVar="delDialog" appendTo="@(body)"
		modal="true" header="删除康娱活动" position="center">
		<div align="center">
			<h:form id="delForm">
				<h:panelGrid>

					<h:outputText
						value="确实删除活动&nbsp;#{projectMaintainController.selectedPensionActivity.itemname}&nbsp;？" />

					<f:facet name="footer">
						<div align="center">
							<p:commandButton styleClass="submitbtn" value=""
								action="#{projectMaintainController.deleteActivity}"
								update=":msg,:showForm:dataTable" oncomplete="delDialog.hide()"></p:commandButton>
							<p:commandButton styleClass="cancelbtn" value=""
								onclick="delDialog.hide()"></p:commandButton>
						</div>
					</f:facet>
				</h:panelGrid>
			</h:form>
		</div>
	</p:dialog>
	<p:dialog id="cancelDialog" widgetVar="cancelDialog" appendTo="@(body)"
		modal="true" header="取消康娱活动" position="center">
		<div align="center">
			<h:form id="cancelForm">
				<h:outputText
					value="确实要取消活动&nbsp;#{projectMaintainController.selectedPensionActivity.itemname}&nbsp;吗？"></h:outputText>
				<div align="center">
					<p:commandButton styleClass="submitbtn" value=""
						action="#{projectMaintainController.cancelActivity}"
						update=":msg,:showForm:dataTable" oncomplete="cancelDialog.hide()"></p:commandButton>
					<p:commandButton styleClass="cancelbtn" value=""
						onclick="cancelDialog.hide()"></p:commandButton>
				</div>
			</h:form>
		</div>
	</p:dialog>
	<script type="text/javascript">
		function checkDeleteProject(xhr, status, args) {
			if (args.validate) {
				delDialog.show();
			}
		}
		function checkCancelProject(xhr, status, args) {
			if (args.validate) {
				cancelDialog.show();
			}
		}
		function saveActivity(xhr, status, args) {
			if (args.validate) {
				addDialog.hide()
			}
		}
	</script>

</f:view>
</html>